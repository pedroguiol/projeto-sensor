<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel de Presença</title>

<style>
body {
    font-family: Arial, sans-serif;
    padding: 20px;
}

table {
    border-collapse: collapse;
    width: 100%;
    margin-bottom: 40px;
}

th, td {
    border: 1px solid #ccc;
    padding: 8px;
    text-align: center;
}

th {
    background-color: #f2f2f2;
}

h2 {
    margin-top: 40px;
}
</style>
</head>

<body>

<h1>Sistema de Presença</h1>

<h2>Alunos Cadastrados</h2>
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Matrícula</th>
        </tr>
    </thead>
    <tbody id="tabelaCadastro"></tbody>
</table>

<h2>Contagem de Presenças</h2>
<table>
    <thead>
        <tr>
            <th>Nome</th>
            <th>Presenças</th>
        </tr>
    </thead>
    <tbody id="tabelaPresenca"></tbody>
</table>

<script>

const URL = "https://script.google.com/macros/s/AKfycbxmB83yvBEI1IZteZOsjc6PiDAnDBOf8QeyuoACO5qaEZON1Uag6hcQ3FSwZmseK9sSYw/exec?acao=listar";

async function carregarDados() {
    try {
        const response = await fetch(URL);
        const data = await response.json();

        const tabelaCadastro = document.getElementById("tabelaCadastro");
        const tabelaPresenca = document.getElementById("tabelaPresenca");

        tabelaCadastro.innerHTML = "";
        tabelaPresenca.innerHTML = "";

        data.forEach(aluno => {

            const linhaCadastro = document.createElement("tr");
            linhaCadastro.innerHTML = `
                <td>${aluno.id}</td>
                <td>${aluno.nome}</td>
                <td>${aluno.matricula}</td>
            `;
            tabelaCadastro.appendChild(linhaCadastro);

            const linhaPresenca = document.createElement("tr");
            linhaPresenca.innerHTML = `
                <td>${aluno.nome}</td>
                <td>${aluno.presencas}</td>
            `;
            tabelaPresenca.appendChild(linhaPresenca);
        });

    } catch (error) {
        console.error("Erro ao carregar dados:", error);
    }
}

carregarDados();

</script>


</body>
</html>
